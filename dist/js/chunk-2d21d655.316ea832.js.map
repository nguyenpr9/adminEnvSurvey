{"version":3,"sources":["webpack:///./src/components/page/Survey.vue?c81e","webpack:///src/components/page/Survey.vue","webpack:///./src/components/page/Survey.vue?479f","webpack:///./src/components/page/Survey.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","heading","subheading","icon","model","value","callback","$$v","search","expression","staticClass","name","_v","headers","items","loading","page","itemsPerPage","on","$event","itemsLength","scopedSlots","_u","key","fn","ref","item","status","_s","truncateText","formatDate","params","id","staticRenderFns","store","components","PageTitle","ToggleButton","data","pageCount","$store","state","survey","length","computed","formTitle","editedIndex","get","set","mounted","fetchData","created","methods","updateStatusItem","dispatch","date","text","description","substring","component","VBtn","VCard","VCardTitle","VDataTable","VIcon","VSpacer","VTextField"],"mappings":"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","file":"js/chunk-2d21d655.316ea832.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('page-title',{attrs:{\"heading\":_vm.heading,\"subheading\":_vm.subheading,\"icon\":_vm.icon}}),_c('v-card-title',[_c('v-text-field',{attrs:{\"append-icon\":\"search\",\"label\":\"Search\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_c('v-spacer'),_c('v-btn',{staticClass:\"mb-2\",attrs:{\"color\":\"primary\",\"dark\":\"\",\"to\":{ name: 'CreateSurvey' }}},[_c('v-icon',[_vm._v(\"mdi-plus\")]),_vm._v(\" New Item \")],1)],1),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"must-sort\":\"\",\"search\":_vm.search,\"headers\":_vm.headers,\"items\":_vm.items,\"loading\":_vm.loading,\"page\":_vm.page,\"items-per-page\":_vm.itemsPerPage,\"hide-default-footer\":\"\",\"no-data-text\":\"Không có dữ liệu\",\"no-results-text\":\"Không có kết quả\"},on:{\"update:page\":function($event){_vm.page=$event},\"pagination\":function($event){_vm.itemsLength = $event.itemsLength}},scopedSlots:_vm._u([{key:\"item.status\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('toggle-button',{attrs:{\"id\":\"changed-font\",\"speed\":480,\"readonly\":\"\",\"sync\":true,\"value\":item.status === 1}})]}},{key:\"item.description\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" \"+_vm._s(_vm.truncateText(item, 200))+\" \")]}},{key:\"item.endDate\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" \"+_vm._s(_vm.formatDate(item))+\" \")]}},{key:\"item.startDate\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(\" \"+_vm._s(_vm.formatDate(item))+\" \")]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-btn',{attrs:{\"small\":\"\",\"icon\":\"\",\"to\":{ name: 'UpdateSurvey', params: { id: item.id } }}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\" mdi-pencil \")])],1)]}}])}),_c('div',{staticClass:\"div-center\"},[_c('b-pagination',{staticClass:\"div-center\",attrs:{\"total-rows\":_vm.itemsLength,\"per-page\":_vm.itemsPerPage},model:{value:(_vm.page),callback:function ($$v) {_vm.page=$$v},expression:\"page\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card>\n    <page-title\n      :heading=\"heading\"\n      :subheading=\"subheading\"\n      :icon=\"icon\"\n    ></page-title>\n    <v-card-title>\n      <v-text-field\n        v-model.lazy=\"search\"\n        append-icon=\"search\"\n        label=\"Search\"\n        single-line\n        hide-details\n      ></v-text-field>\n      <v-spacer></v-spacer>\n      <v-btn color=\"primary\" dark class=\"mb-2\" :to=\"{ name: 'CreateSurvey' }\">\n        <v-icon>mdi-plus</v-icon> New Item\n      </v-btn>\n    </v-card-title>\n    <v-data-table\n      must-sort\n      :search=\"search\"\n      :headers=\"headers\"\n      :items=\"items\"\n      :loading=\"loading\"\n      :page.sync=\"page\"\n      :items-per-page=\"itemsPerPage\"\n      @pagination=\"itemsLength = $event.itemsLength\"\n      class=\"elevation-1\"\n      hide-default-footer\n      no-data-text=\"Không có dữ liệu\"\n      no-results-text=\"Không có kết quả\"\n    >\n      <template v-slot:item.status=\"{ item }\">\n        <toggle-button\n          id=\"changed-font\"\n          :speed=\"480\"\n          readonly\n          :sync=\"true\"\n          :value=\"item.status === 1\"\n        />\n      </template>\n      <template v-slot:item.description=\"{ item }\">\n        {{ truncateText(item, 200) }}\n      </template>\n      <template v-slot:item.endDate=\"{ item }\">\n        {{ formatDate(item) }}\n      </template>\n      <template v-slot:item.startDate=\"{ item }\">\n        {{ formatDate(item) }}\n      </template>\n      <template v-slot:item.actions=\"{ item }\">\n        <v-btn\n          small\n          icon\n          :to=\"{ name: 'UpdateSurvey', params: { id: item.id } }\"\n        >\n          <v-icon small>\n            mdi-pencil\n          </v-icon>\n        </v-btn>\n      </template>\n    </v-data-table>\n    <div class=\"div-center\">\n      <b-pagination\n        :total-rows=\"itemsLength\"\n        :per-page=\"itemsPerPage\"\n        v-model=\"page\"\n        class=\"div-center\"\n      />\n    </div>\n  </v-card>\n</template>\n\n<script>\nimport moment from \"moment\";\nimport { ToggleButton } from \"vue-js-toggle-button\";\nimport { createNamespacedHelpers } from \"vuex\";\nimport PageTitle from \"../../Layout/Components/PageTitle.vue\";\nimport store from \"../../store\";\nimport { survey } from \"../../store/modules/survey\";\nimport { ALL } from \"../../store/action-types\";\nconst { mapActions } = createNamespacedHelpers(`survey`);\n\nif (!store.state.survey) store.registerModule(`survey`, survey);\nexport default {\n  name: \"Survey\",\n  components: {\n    PageTitle,\n    ToggleButton\n  },\n  data: function() {\n    return {\n      heading: \"Survey\",\n      subheading: \"manager survey\",\n      icon: \"pe-7s-notebook icon-gradient bg-mixed-hopes\",\n      loading: true,\n      search: null,\n      page: 1,\n      pageCount: 0,\n      itemsLength: this.$store.state.survey.data.length,\n      itemsPerPage: 10,\n      headers: [\n        { value: \"id\", text: \"Id\" },\n        {\n          value: \"description\",\n          text: \"Description\"\n        },\n        { value: \"endDate\", text: \"End date\" },\n        { value: \"startDate\", text: \"Start date\" },\n        { value: \"title\", text: \"Title\" },\n        { value: \"user.name\", text: \"User created\" },\n        { value: \"status\", text: \"Status\" },\n        { value: \"actions\", text: \"Action\", sortable: false }\n      ]\n    };\n  },\n  computed: {\n    formTitle() {\n      return this.editedIndex === -1 ? \"New Survey\" : \"Edit Survey\";\n    },\n    items: {\n      get() {\n        return this.$store.state.survey.data;\n      },\n      set(value) {\n        this.value = value;\n      }\n    }\n  },\n  mounted() {\n    this.fetchData();\n  },\n  created() {},\n  methods: {\n    ...mapActions({\n      all: ALL\n    }),\n    async fetchData() {\n      this.loading = true;\n      await this.all();\n      this.loading = false;\n    },\n    updateStatusItem(id, value) {\n      this.$store.dispatch(\"user/changeStatusSurveys\", { status: value, id });\n    },\n    formatDate(date) {\n      return date ? moment(date).format(\"DD/MM/YYYY\") : \"\";\n    },\n    truncateText(text, length) {\n      if (text.description.length > length) {\n        return text.description.substring(0, length) + \"...\";\n      } else {\n        return text.description;\n      }\n    }\n  }\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Survey.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Survey.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Survey.vue?vue&type=template&id=b18630ea&\"\nimport script from \"./Survey.vue?vue&type=script&lang=js&\"\nexport * from \"./Survey.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardTitle,VDataTable,VIcon,VSpacer,VTextField})\n"],"sourceRoot":""}